# San Diego Public Bathroom Audit (Open Map + Data Pipeline)

An open-source, privacy-aware workflow to **collect, validate, and publish** a continuously improving geospatial dataset of **public bathroom access** across San Diego County.

This project has two outputs:
1) **An interactive map** where users can submit bathroom locations and answer a short audit form.
2) **A canonical, analysis-ready dataset** (GeoJSON/CSV/Parquet) produced via a repeatable ETL + QA pipeline.

The map is the interface — the **product is the validated dataset + documentation** that makes the data reliable for engineering and policy use.

---

## Why this exists (policy + public health use)
Public bathroom availability is a critical access issue for:
- unhoused residents and outreach teams
- people with disabilities
- older adults, families, and commuters
- public health and sanitation efforts

Existing data is fragmented, inconsistent, or outdated. This project creates a **standardized, auditable dataset** suitable for:
- coverage gap analysis
- accessibility audits
- service planning and prioritization
- integration into other GIS/public health workflows

---

## Data principles
- **Safety & privacy:** no personal identifying information is collected.
- **Auditability:** every record includes timestamps and a provenance trail.
- **Validation-first:** user submissions are treated as *inputs* and must pass QA before entering the canonical dataset.
- **Reproducibility:** outputs are generated by scripts, not manual edits.

---

## Data model (high level)

### Submissions (raw / append-only)
User-submitted locations and form responses. Stored as an append-only log.

Examples:
- `submission_id`
- `submitted_at`
- `source` (web form, import, partner list)
- `lat`, `lon`
- `bathroom_name` (optional)
- audit fields (see below)

### Canonical bathrooms (validated)
A curated “best current truth” dataset produced from submissions + imports.

Examples:
- `bathroom_id` (stable)
- `geometry`
- `status` (active / unknown / closed)
- `last_verified_at`
- standardized audit attributes

### Audit attributes 
- `open_to_public` (yes/no/unknown)
- `hours` (structured where possible)
- `accessible_ada` (yes/no/unknown)
- `requires_purchase` (yes/no/unknown)
- `restroom_type` (single, multi-stall, portable, other)
- `condition_score` (e.g., 1–5)
- `safety_notes` (short, optional)
- `has_handwashing` (yes/no/unknown)

---

## Pipeline overview
This repo follows a simple flow:

1. **Ingest** raw sources  
   - user submissions (web form)
   - partner lists / city datasets (when available)

2. **Validate + normalize**  
   - schema checks (required fields, datatypes)
   - geometry checks (valid coordinates; in-county bounds)
   - de-duplication / clustering (near-identical points)
   - standardization of categorical fields

3. **Publish** analysis-ready outputs  
   - `bathrooms_canonical.geojson`
   - `bathrooms_canonical.parquet`
   - `bathrooms_canonical.csv` (non-geometry attributes)
   - summary tables for policy reporting (optional)

---


